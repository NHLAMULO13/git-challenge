import"./hoisted.s3VQkQxT.js";import"./hoisted.DkvAaKcu.js";import"./hoisted.DkfPM3SV.js";import{c as x,a as f,b as v,m as k}from"./lite-yt-embed.B-OZqq_r.js";import{g as I}from"./hoisted.D71OCrPR.js";import{p as T}from"./env.CMGTxZNn.js";import{m as g}from"./_sentry-release-injection-file.zvqcoRBi.js";import"./hoisted.CJxsmy4k.js";import"./hoisted.Cxi2-jhL.js";import{g as F,c as S,n as B}from"./get-access-token.BsYtmw7e.js";import{b as A,a as D}from"./sanityImgBuilder.fkRcgtSX.js";import"./constants.R0FL2b94.js";import"./_commonjsHelpers.DPSyKoq3.js";import"./module.esm.dZ38XJ9j.js";import"./preload-helper.lMQRIW0J.js";(function(){try{var e=typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},i=new e.Error().stack;i&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[i]="4c65cc4b-59e5-47a0-8c09-c3b6fa7e1339",e._sentryDebugIdIdentifier="sentry-dbid-4c65cc4b-59e5-47a0-8c09-c3b6fa7e1339")}catch{}})();const d={TITLE:".detail-panel__page-title",FACTS:".recipe-fact__item h6",INGREDIENTS:".ingredients-rich-text",METHOD_BLOCKS:".recipe-page--method .rich-text",TOP_TIP:".recipe-page__top-tip .rich-text",PRINT_BLOCK:"print-block"},h={cookTime:e=>`
    <div class="recipe-page-print__icon">
      <svg width="32" height="32" viewBox="0 0 32 32" data-icon="cooking-time"><g fill="#49C5B1"><path d="M14.44 17.572c-.688-.721-.549-1.686.277-2.26l4.6-3.214c.436-.304.888.157.584.582l-3.21 4.596c-.582.826-1.547.974-2.252.296"></path><path fill-rule="evenodd" d="M16 24a8 8 0 1 0 0-16 8 8 0 0 0 0 16m0 2c5.523 0 10-4.477 10-10S21.523 6 16 6 6 10.477 6 16s4.477 10 10 10" clip-rule="evenodd"></path></g></svg>
      <p class="type-subtitle-sm">${e}</p>
    </div>
  `,difficulty:e=>`
    <div class="recipe-page-print__icon">
      <svg width="32" height="32" viewBox="0 0 32 32" data-icon="not-too-tricky"><g fill="#49C5B1"><path d="M6.397 24h3.206c.838 0 1.397-.45 1.397-1.113v-7.774C11 14.45 10.441 14 9.603 14H6.397C5.559 14 5 14.45 5 15.113v7.774C5 23.55 5.559 24 6.397 24"></path><path stroke="#49C5B1" stroke-width="2" d="M17.603 23h-3.206c-.244 0-.353-.067-.38-.089l-.011-.01-.002-.002v-.002l-.001-.005-.003-.03V11.138l.004-.035V11.1l.002-.001.01-.011c.028-.022.137-.089.38-.089h3.207c.234 0 .346.065.378.091l.013.013.002.002v.002l.002.003.002.027v11.724l-.002.027-.001.003v.001h-.001l-.002.003-.013.013c-.032.026-.144.091-.378.091Z"></path><path fill-opacity=".3" d="M22.394 24h3.225c.823 0 1.381-.43 1.381-1.067V8.067C27 7.431 26.442 7 25.62 7h-3.226C21.57 7 21 7.43 21 8.067v14.866c0 .636.57 1.067 1.394 1.067"></path></g></svg>
      <p class="type-subtitle-sm">${e}</p>
    </div>
  `,serves:e=>`
    <div class="recipe-page-print__icon">
      <svg width="32" height="32" viewBox="0 0 32 32" class="print-icon" data-icon="serves"><path fill="none" stroke="#49C5B1" stroke-linecap="square" stroke-miterlimit="10" stroke-width="2" d="M18 18h-5c-2.762 0-5 2.015-5 4.5v.75s2.604.75 7.5.75 7.5-.75 7.5-.75v-.75c0-2.485-2.238-4.5-5-4.5Zm-6-6.818C12 9.425 13.567 8 15.5 8S19 9.425 19 11.182 17.433 15 15.5 15 12 12.939 12 11.182Z"></path></svg>
      <p class="type-subtitle-sm">${e}</p>
    </div>
  `},L=({title:e,ingredients:i,topTip:n,methods:t=[],cookTime:a,difficulty:r,serves:o})=>{const p=[a&&h.cookTime(a),r&&h.difficulty(r),o&&h.serves(o)].filter(Boolean).join(""),s=n?`<div>
        <p class="type-subtitle">Top tip</p>
        ${n}
      </div>`:"",l=p?`<div class="recipe-page-print__icons">
        ${p}
      </div>`:"",u=`
    <div class="recipe-page-print">
      <div class="recipe-page-print__title">
        <p class="type-h1">${e}</p>
      </div>

        ${l}

      <div class="recipe-page-print__content">
        <div class="recipe-page-print__content-item">
          <p class="type-h2 recipe-page-print__content-title">Ingredients</p>
          <div class="ingredients-rich-text">
            ${i}
          </div>

          ${s}
        </div>
        
        <div class="recipe-page-print__content-item method">
          <p class="type-h2 recipe-page-print__content-title">Method</p>
          ${t.map(C=>`<div class="rich-text">${C}</div>`).join("")}
        </div>
      </div>
    </div>
  `,c=document.createElement("div");return c.id=d.PRINT_BLOCK,c.innerHTML=u,c},q=()=>{const e=document?.querySelector(d.TITLE)?.textContent||"",i=document?.querySelectorAll(d.FACTS)||[],n=document?.querySelector(d.INGREDIENTS)?.innerHTML||"",t=document?.querySelectorAll(d.METHOD_BLOCKS)||"",a=document?.querySelector(d.TOP_TIP)?.innerHTML||"",[r,o,p]=[...i].map(l=>l.textContent),s=[...t].map(l=>l.innerHTML);return{title:e,ingredients:n,topTip:a,methods:s,cookTime:r,difficulty:o,serves:p}},z=()=>{const e=q(),i=L(e);document.body.appendChild(i)},R=()=>{const e=document.querySelector("[data-recipe-id]"),i=e?.dataset?.recipeId||"",n=e?.dataset?.recipeTitle||"";T("print_page",{type:"recipe",item_id:i,title:n}),window.print()},$=()=>{document.getElementById(d.PRINT_BLOCK)?.remove()};document.getElementById("print-recipe-btn")?.addEventListener("click",R);window.addEventListener("beforeprint",z);window.addEventListener("afterprint",$);x();x();const O=document.querySelectorAll(".anchor-toggle label"),b=document.querySelector(".anchor-toggle"),y=document.querySelector(".default__content-wrapper"),m={overview:document.getElementById("overview-section"),ingredients:document.getElementById("ingredients-section"),method:document.getElementById("method-section")};let _=!1,w;const N={root:null,rootMargin:"0px",threshold:.5},P={root:null,rootMargin:"200% 0px -85px 0px",threshold:0},M=e=>{const i=m[e];i&&i.scrollIntoView({behavior:"smooth"})};O.forEach(e=>{e.addEventListener("click",i=>{const t=i.currentTarget.htmlFor;t&&(_=!0,clearTimeout(w),M(t),f(`${t}_anchor_click`),v(`${t}_anchor_click`),w=setTimeout(()=>{_=!1},1e3))})});const V=e=>{_||e.forEach(i=>{if(i.isIntersecting){const n=Object.keys(m).find(t=>m[t]===i.target);if(n){const t=document.getElementById(n);t&&(t.checked=!0)}}})},H=new IntersectionObserver(V,N);Object.values(m).forEach(e=>{e&&H.observe(e)});const j=e=>{e.forEach(i=>{b&&(i.isIntersecting?b.classList.add("hide-toggle"):b.classList.remove("hide-toggle"))})},K=new IntersectionObserver(j,P);if(y){const e=document.createElement("div");y.appendChild(e),K.observe(e)}const E=async()=>{const e=document.createElement("script");e.src="https://widget.reviews.co.uk/rating-snippet/dist.js",e.onload=()=>{typeof ratingSnippet=="function"?ratingSnippet("ruk_rating_snippet",{store:"https-www.jamieoliver.com",mode:"default",color:"#FBE122",linebreak:!1,text:"Reviews",singularText:"Review",lang:"en",usePolaris:!1,showEmptyStars:!1}):console.error("ratingSnippet function is not available.")},e.onerror=()=>console.error("Failed to load the rating snippet script."),document.body.appendChild(e)},W=document.getElementById("detail-panel"),U=W?.getAttribute("data-show-reviews")==="true";U&&E();const Q=async()=>{const e=await I(),i=document.querySelector("main")?.hasAttribute("data-recipe-id"),n=document.querySelector("section[data-no-reviews-copy]")?.getAttribute("data-no-reviews-copy")||null,t=document.querySelector("main")?.getAttribute("data-recipe-id")||document.getElementById("product-panel")?.getAttribute("data-product-id");e||document.getElementById("loginMessage")?.classList.remove("hidden");const a=document.createElement("script");a.src="https://widget.reviews.co.uk/polaris/build.js",a.onload=async()=>{typeof ReviewsWidget=="function"?new ReviewsWidget("#ReviewsWidget",{store:"https-www.jamieoliver.com",widget:"polaris",options:{types:"product_review",enable_sentiment_analysis:!0,lang:"en",layout:"",per_page:6,store_review:{hide_if_no_results:!1},third_party_review:{hide_if_no_results:!1},product_review:{sku:t,hide_if_no_results:!1},questions:{hide_if_no_results:!1,enable_ask_question:!0,enable_ask_question_button_style:!1,show_dates:!0,grouping:"[Group questions by providing a grouping variable here or a specific product SKU]"},header:{enable_summary:!0,enable_ratings:!0,enable_attributes:!1,enable_image_gallery:!0,enable_percent_recommended:!1,enable_write_review:!!e,enable_ask_question:!1,enable_sub_header:!0,rating_decimal_places:1,use_write_review_button:!0,enable_if_no_results:!1},sentiment:{badge_text:"AI Review Summary"},filtering:{enable:!0,enable_text_search:!0,enable_sorting:!0,enable_product_filter:!1,enable_media_filter:!0,enable_overall_rating_filter:!0,enable_language_filter:!1,enable_language_filter_language_change:!1,enable_ratings_filters:!1,enable_attributes_filters:!1,enable_expanded_filters:!1},reviews:{enable_avatar:!0,enable_reviewer_name:!0,enable_reviewer_address:!0,reviewer_address_format:"city, country",enable_verified_badge:!0,enable_subscriber_badge:!0,review_content_filter:"undefined",enable_reviewer_recommends:!1,enable_attributes:!1,enable_product_name:!1,enable_review_title:!1,enable_replies:!0,enable_images:!0,enable_ratings:!1,enable_share:!1,enable_helpful_vote:!0,enable_helpful_display:!0,enable_report:!0,enable_date:!0,enable_third_party_source:!0,enable_duplicate_reviews:void 0}},translations:{"Verified Customer":"Verified Customer","no reviews collected for this product yet":n||"no reviews collected yet",...i?{"What would you rate this product?":"What would you rate this recipe?","product reviews":"recipe reviews","tell us your feedback about the product":"Tell us your feedback about the recipe"}:{}},styles:{"--base-font-size":"16px","--common-button-font-family":"p22 Underground","--common-button-font-size":"14px","--common-button-font-weight":"400","--common-button-letter-spacing":"1.12px","--common-button-text-transform":"uppercase","--common-button-vertical-padding":"15px","--common-button-horizontal-padding":"32px","--common-button-border-width":"2px","--common-button-border-radius":"24px","--primary-button-bg-color":"#337179","--primary-button-border-color":"#337179","--primary-button-text-color":"#ffffff","--secondary-button-bg-color":"transparent","--secondary-button-border-color":"#337179","--secondary-button-text-color":"#337179","--common-star-color":"#FBE122","--common-star-disabled-color":"#FDF4B0","--medium-star-size":"32px","--small-star-size":"24px","--heading-text-color":"#254A5D","--heading-text-font-weight":"600","--heading-text-font-family":"","--heading-text-line-height":"1.6","--heading-text-letter-spacing":"0","--heading-text-transform":"none","--body-text-color":"#254A5D","--body-text-font-weight":"400","--body-text-font-family":"inherit","--body-text-line-height":"1.4","--body-text-letter-spacing":"0","--body-text-transform":"none","--inputfield-text-font-family":"inherit","--input-text-font-size":"14px","--inputfield-text-font-weight":"400","--inputfield-text-color":"#254A5D","--inputfield-border-color":"rgba(0,0,0,0.2)","--inputfield-background-color":"#F4F6F7","--inputfield-border-width":"0","--inputfield-border-radius":"24px","--common-border-color":"#E9EDEF","--common-border-width":"1px","--common-sidebar-width":"304px","--filters-panel-bg-color":"transparent","--filters-panel-font-size":"16px","--filters-panel-text-color":"16px","--filters-panel-horizontal-padding":"0","--filters-panel-vertical-padding":"0","--slider-indicator-bg-color":"rgba(0,0,0,0.1)","--slider-indicator-button-color":"#FBE122","--slider-indicator-width":"190px","--badge-icon-color":"#49C5B1","--badge-icon-font-size":"16px","--badge-text-color":"#49C5B1","--badge-text-font-size":"13px","--badge-text-letter-spacing":"0","--badge-text-transform":"inherit","--author-font-size":"14px","--author-text-transform":"none","--avatar-thumbnail-size":"64px","--avatar-thumbnail-border-radius":"100px","--avatar-thumbnail-text-color":"#FFFFFF","--avatar-thumbnail-bg-color":"#FFB549","--photo-video-thumbnail-size":"120px","--photo-video-thumbnail-border-radius":"16px","--mediaslider-scroll-button-icon-color":"#337179","--mediaslider-scroll-button-bg-color":"rgba(233, 237, 239, 0.85)","--mediaslider-overlay-text-color":"#FFFFFF","--mediaslider-overlay-bg-color":"rgba(51, 113, 121, 0.6))","--mediaslider-item-size":"192px","--pagination-tab-text-color":"#254A5D","--pagination-tab-text-transform":"uppercase","--pagination-tab-text-letter-spacing":"0","--pagination-tab-text-font-size":"16px","--pagination-tab-text-font-weight":"600","--pagination-tab-active-text-color":"#254A5D","--pagination-tab-active-text-font-weight":"600","--pagination-tab-active-border-color":"#254A5D","--pagination-tab-border-width":"1px","--sentiment-base-font-size":"15px","--sentiment-panel-bg-color":"#EDF9F7","--sentiment-panel-border-size":"0px","--sentiment-panel-border-color":"rgba(0, 0, 0, 0.1)","--sentiment-panel-border-radius":"24px","--sentiment-panel-shadow-size":"0px","--sentiment-panel-shadow-color":"rgba(0, 0, 0, 0.1)","--sentiment-heading-text-color":"#0E1311","--sentiment-heading-text-font-weight":"600","--sentiment-heading-text-font-family":"inherit","--sentiment-heading-text-line-height":"1.4","--sentiment-heading-text-letter-spacing":"0","--sentiment-heading-text-transform":"none","--sentiment-body-text-color":"#254A5D","--sentiment-body-text-font-weight":"400","--sentiment-body-text-font-family":"inherit","--sentiment-body-text-line-height":"1.6","--sentiment-body-text-letter-spacing":"0","--sentiment-body-text-transform":"none","--sentiment-panel-vertical-padding":"40px","--sentiment-panel-horizontal-padding":"40px","--sentiment-header-text-color":"#337179","--sentiment-header-text-font-size":"13px","--sentiment-header-text-font-weight":"600","--sentiment-header-bg-color":"#FFFFFF","--sentiment-header-border-radius":"24px","--sentiment-header-shadow-size":"1px","--sentiment-header-shadow-color":"#0000000F","--sentiment-header-vertical-padding":"14px","--sentiment-header-horizontal-padding":"24px","--sentiment-pagination-tab-text-font-size":"14px","--sentiment-pagination-tab-text-font-weight":"400","--sentiment-pagination-tab-text-color":"rgba(51, 113, 121, 0.6)","--sentiment-pagination-tab-text-transform":"none","--sentiment-pagination-tab-text-letter-spacing":"8%","--sentiment-pagination-tab-active-text-color":"#254A5D","--sentiment-pagination-tab-active-text-font-weight":"400","--sentiment-pagination-tab-active-border-color":"#254A5D","--sentiment-pagination-tab-border-width":"1px"}}):console.error("ratingSnippet function is not available.")},a.onerror=()=>{console.error("Failed to load the rating snippet script.")},document.body.appendChild(a)};Q();const G=document.getElementById("product-panel"),Z=G?.getAttribute("data-show-reviews")==="true";Z&&E();const J=(e,i)=>{const n=["Unavailable"];if(!i||!e)return n;const t=Math.min(10,i),a=Array.from({length:t},(r,o)=>o+1);return a?.length?a:n},X=e=>{if(e?.asset?._ref)return{src:A(e,{width:544,quality:80,ratio:"3/4"})?.vanityUrl(),srcset:D(e,{width:544,quality:80,ratio:"3/4"},[1920,1600,1366,1040,768,640,320,304]),alt:e?.alt||""}},Y=e=>{const i=e?.inventory?.available||!1,n=e.doNotTrack?10:e?.inventory?.quantity;return{...e,inventory:e?.inventory&&{...e.inventory,quantity:n},image:e?.image&&X(e.image),options:J(i,n)}};g.plugin(k);g.data("productPanel",(e,i,n)=>({isLoading:!0,successState:!1,variants:i,selectedQty:"1",variant:null,inventory:null,visible:!1,product:e,async init(){if(this.isLoading=!0,this.setActiveVariant(n),await this.setInventory(i.map(({id:t})=>t)),this.variant){const t={currency:this.variant?.price?.currencyCode,value:this.variant?.price?.amountFloat,items:[{item_id:this.variant?.code,item_name:this.variant?.name,index:0,item_variant:this.variant?.code,price:this.variant?.price?.amountFloat}]};window.klaviyo.push(["track","Viewed Product",t,()=>console.log("Klaviyo tracked Viewed Product")]),f("view_item",t),v("view_item",t)}this.isLoading=!1},setActiveVariant(t){const a=t?this.variants.find(r=>r.code===t):this.variants?.[0];a&&(this.variant=Y(a))},async setInventory(t){if(!t?.length)return;const{accessToken:a}=await F();if(!a)return;const r=S(a),o=t.map(async s=>{const u=`/skus/${s}?fields[skus]=inventory,id`;return r.get(u).then(c=>B(c).get(["id","inventory"])).catch(c=>(console.error(c),{inventory:{available:!1,quantity:0}}))}),p=await Promise.all(o);this.variants=this.variants.map(s=>{const l=p.find(({id:u})=>u===s.id);return{...s,inventory:l?.inventory||{available:!1,quantity:0}}}),this.setActiveVariant(this.variant?.code)},addToCart(){if(!this.variant?.inventory?.available)return;this.isLoading=!0,this.successState=!1;let t=Number(this.selectedQty);isNaN(t)&&(t=1),document.getElementsByTagName("html")[0]?.classList.add("search--is-hidden"),this.$dispatch("addToCart",{code:this.variant?.code,quantity:t,name:this.variant?.name,image_url:this.variant?.image?.src,price:(this.variant?.price?.amountFloat||0)*t,comparePrice:(this.variant?.price?.compareAtAmountFloat||0)*t,metadata:{url:`${e?.url}?code=${this.variant.code}`,options:this.variant.options,...this.variant.ageRestricted&&{ageRestricted:this.variant.ageRestricted}}});const r={currency:this.variant?.price?.currencyCode,value:(this.variant?.price?.amountFloat||0)*t,items:[{item_id:this.variant?.code,item_name:this.variant?.name,index:0,item_variant:this.variant?.code,price:this.variant?.price?.amountFloat||0}]};window.klaviyo.push(["track","Added to Cart",r,()=>console.log("Klaviyo tracked Viewed Product")]),f("add_to_cart",r),v("add_to_cart",r),this.isLoading=!1,this.successState=!0,setTimeout(()=>{this.successState=!1},3e3)}}));g.plugin(k);g.data("flipNumber",(e,i=!1)=>({digits:[],target:e.toString().split(""),currentDigits:[],duration:150,init(){this.digits=Array.from({length:this.target.length},()=>({value:"",isChanging:!1})),this.flipNextDigit(this.target.length-1)},flipNextDigit(n){if(i){if(n<0)return;const t=this.target[n];if(t==="."){this.digits[n]={value:".",isChanging:!1},this.flipNextDigit(n-1);return}let a=0;const r=setInterval(()=>{a===Number(t)?(clearInterval(r),this.digits[n]={value:t,isChanging:!1},this.flipNextDigit(n-1)):(this.digits[n]={value:a,isChanging:!0},setTimeout(()=>{this.digits[n].isChanging=!1},this.duration),a++)},this.duration)}else this.digits=this.target.map(t=>({value:t,isChanging:!1}))}}));
//# sourceMappingURL=hoisted.CrpBaQGx.js.map
